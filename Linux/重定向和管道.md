# 重定向和管道

## 输出重定向

```
$ ls > ~/ls_out
```

这条命令将ls的输出重定向到ls_out文件中。如果ls_out文件不存在，那么重定向符号会试图建立这个文件；如果已经存在，那么“>”会删除文件中原有的内容，然后用新内容替代。

如果要保留文件中原来的内容，可以使用输出重定向符号“>>”

## 输入重定向

```
$ cat < test.py
```

这条命令将文件test.py作为输入传递给cat命令，cat读取文件中的每一行，然后输出读到的内容。大部分命令能够以参数的形式在命令行上指定输入的文件名，因此输入重定向并常用。

使用“<<”重定向操作符被称为立即文档，从键盘接受输入，并传递给程序。

```
$ cat << EOF
> hello
> bye
> EOF
hello
bye
```

cat 命令从键盘接受两行输入，并将其送入标准输出。这里立即文档指定了一个输入结束的分隔符（这里是EOF），当shell遇到这个但单词时，即认为输入结束，并把刚才的输入一起传递给命令。

## 混合使用

```
$ cat << END > hello
> hello world
> bye
> END
```

这条命令先让cat以立即文档的方式获取输入，然后再把cat的输出重定向到hello文件。

## 管道：|

管道将重定向再向前推进了一步，使用符号“|”将一条命令的输出连接到另一条命令输入。

```
$ ls | grep ay
days
hard_days
my_days
```

ls 首先列出当前目录下的所有文件名，管道 | 接收这些输出，并把它们发送给grep 命令作为其输入，最后grep在这堆文件列表中查找包含字符串ay的文件名，并在标准设备上显示。

可以在一条命令中使用多个管道。